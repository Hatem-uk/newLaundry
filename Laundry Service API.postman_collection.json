{
	"info": {
		"_postman_id": "9b94b3bc-e065-4041-82da-df7c2e004d9e",
		"name": "Laundry Service API",
		"description": "Complete API collection for the Laundry Service Platform with coin-based economy, package management, and service booking",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "29685201"
	},
	"item": [
		{
			"name": "üîê Authentication",
			"item": [
				{
					"name": "Customer Registration",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Test Customer\",\n    \"email\": \"customer.{{$timestamp}}@test.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\",\n    \"phone\": \"+966501234567\",\n    \"role\": \"customer\",\n    \"city_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Customer Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"{{customer_email}}\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Laundry Registration",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Test Laundry\",\n    \"email\": \"laundry.{{$timestamp}}@test.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\",\n    \"phone\": \"+966501234568\",\n    \"role\": \"laundry\",\n    \"city_id\": 1,\n    \"laundry_name\": \"Test Laundry Service\",\n    \"working_hours\": {\n        \"monday\": {\"open\": \"08:00\", \"close\": \"20:00\"},\n        \"tuesday\": {\"open\": \"08:00\", \"close\": \"20:00\"},\n        \"wednesday\": {\"open\": \"08:00\", \"close\": \"20:00\"},\n        \"thursday\": {\"open\": \"08:00\", \"close\": \"20:00\"},\n        \"friday\": {\"open\": \"08:00\", \"close\": \"18:00\"},\n        \"saturday\": {\"open\": \"09:00\", \"close\": \"17:00\"},\n        \"sunday\": {\"open\": \"09:00\", \"close\": \"17:00\"}\n    },\n    \"service_areas\": [1, 2, 3],\n    \"specializations\": [\"washing\", \"ironing\", \"dry_cleaning\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Laundry Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"{{laundry_email}}\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Auth Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"status"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üèôÔ∏è Cities & Locations",
			"item": [
				{
					"name": "Get All Cities",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/cities",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cities"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Cities with Laundries",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/cities/with-laundries",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cities",
								"with-laundries"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Cities with Agents",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/cities/with-agents",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cities",
								"with-agents"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Cities by Region",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/cities/region/{{region_name}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cities",
								"region",
								"{{region_name}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Regions",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/cities/regions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cities",
								"regions"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üì¶ Coin Packages",
			"item": [
				{
					"name": "Get All Packages",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/packages",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"packages"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Package by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/packages/{{package_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"packages",
								"{{package_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Packages by Type",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/packages/type/{{package_type}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"packages",
								"type",
								"{{package_type}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Purchase Package",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"package_id\": {{package_id}},\n    \"payment_method\": \"cash\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/packages/purchase",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"packages",
								"purchase"
							]
						}
					},
					"response": []
				},
				{
					"name": "Gift Package",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"package_id\": {{package_id}},\n    \"recipient_email\": \"friend@test.com\",\n    \"payment_method\": \"cash\",\n    \"message\": \"Enjoy your laundry services!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/packages/gift",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"packages",
								"gift"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üëï Laundry Services",
			"item": [
				{
					"name": "Get All Services",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/services",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"services"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Service by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/services/{{service_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"services",
								"{{service_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Services by Type",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/services/type/{{service_type}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"services",
								"type",
								"{{service_type}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Services by Laundry",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/services/laundry/{{laundry_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"services",
								"laundry",
								"{{laundry_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üõí Orders & Purchases",
			"item": [
				{
					"name": "Purchase Service",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"service_id\": {{service_id}},\n    \"quantity\": 1,\n    \"notes\": \"Please handle with care\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/orders/purchase-service",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"orders",
								"purchase-service"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User Orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/orders?status={{status}}&type={{type}}&limit={{limit}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"orders"
							],
							"query": [
								{
									"key": "status",
									"value": "{{status}}",
									"description": "Filter by status: pending, in_process, completed, canceled"
								},
								{
									"key": "type",
									"value": "{{type}}",
									"description": "Filter by type: package, service"
								},
								{
									"key": "limit",
									"value": "{{limit}}",
									"description": "Number of orders per page (default: 20)"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Order Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/orders/{{order_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"orders",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Order Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{laundry_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"completed\",\n    \"meta\": {\n        \"completion_notes\": \"Service completed successfully\",\n        \"completion_time\": \"{{$timestamp}}\"\n    }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/orders/{{order_id}}/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"orders",
								"{{order_id}}",
								"status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cancel Order",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"reason\": \"Changed my mind\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/orders/{{order_id}}/cancel",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"orders",
								"{{order_id}}",
								"cancel"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Purchase History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/orders/history/purchases?limit={{limit}}&status={{status}}&type={{type}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"orders",
								"history",
								"purchases"
							],
							"query": [
								{
									"key": "limit",
									"value": "{{limit}}",
									"description": "Number of purchases per page"
								},
								{
									"key": "status",
									"value": "{{status}}",
									"description": "Filter by status"
								},
								{
									"key": "type",
									"value": "{{type}}",
									"description": "Filter by type"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "‚≠ê Ratings & Reviews",
			"item": [
				{
					"name": "Submit Rating",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"laundry_id\": {{laundry_id}},\n    \"order_id\": {{order_id}},\n    \"rating\": 5,\n    \"comment\": \"Excellent service! Very clean and fast delivery.\",\n    \"service_type\": \"{{service_type}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ratings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ratings"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Laundry Ratings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/ratings/laundry/{{laundry_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ratings",
								"laundry",
								"{{laundry_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Customer Ratings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/ratings/customer",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ratings",
								"customer"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üë§ Customer Profile",
			"item": [
				{
					"name": "Get Customer Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/customer/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customer",
								"profile"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Nearby Laundries",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/customer/nearby-laundries",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customer",
								"nearby-laundries"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Available Services",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/customer/services",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customer",
								"services"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üè™ Laundry Management",
			"item": [
				{
					"name": "Get Laundry Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{laundry_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/laundry/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"laundry",
								"profile"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Laundry Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{laundry_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": {\n        \"en\": \"Updated Laundry Name\",\n        \"ar\": \"ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ∫ÿ≥ŸÑÿ© ÿßŸÑŸÖÿ≠ÿØÿ´\"\n    },\n    \"working_hours\": {\n        \"monday\": {\"open\": \"09:00\", \"close\": \"21:00\"}\n    },\n    \"status\": \"online\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/laundry/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"laundry",
								"profile"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Laundry Orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{laundry_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/laundry/orders?status={{status}}&limit={{limit}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"laundry",
								"orders"
							],
							"query": [
								{
									"key": "status",
									"value": "{{status}}",
									"description": "Filter by status"
								},
								{
									"key": "limit",
									"value": "{{limit}}",
									"description": "Number of orders per page"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üë®‚Äçüíº Admin Management",
			"item": [
				{
					"name": "Get All Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/users?role={{role}}&status={{status}}&limit={{limit}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"users"
							],
							"query": [
								{
									"key": "role",
									"value": "{{role}}",
									"description": "Filter by role"
								},
								{
									"key": "status",
									"value": "{{status}}",
									"description": "Filter by status"
								},
								{
									"key": "limit",
									"value": "{{limit}}",
									"description": "Number of users per page"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Approve/Reject User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"approved\",\n    \"notes\": \"User verified successfully\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/admin/users/{{user_id}}/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"users",
								"{{user_id}}",
								"status"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/orders?status={{status}}&type={{type}}&limit={{limit}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"orders"
							],
							"query": [
								{
									"key": "status",
									"value": "{{status}}",
									"description": "Filter by status"
								},
								{
									"key": "type",
									"value": "{{type}}",
									"description": "Filter by type"
								},
								{
									"key": "limit",
									"value": "{{limit}}",
									"description": "Number of orders per page"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Platform Statistics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/statistics",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"admin",
								"statistics"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Set default values for variables",
					"if (!pm.variables.get('base_url')) {",
					"    pm.variables.set('base_url', 'http://localhost:8000');",
					"}",
					"",
					"// Generate timestamp for order completion",
					"pm.variables.set('timestamp', new Date().toISOString());",
					"",
					"// Set default values for common parameters",
					"if (!pm.variables.get('limit')) {",
					"    pm.variables.set('limit', '20');",
					"}",
					"if (!pm.variables.get('status')) {",
					"    pm.variables.set('status', 'pending');",
					"}",
					"if (!pm.variables.get('type')) {",
					"    pm.variables.set('type', 'service');",
					"}",
					"",
					"// Generate unique emails for testing",
					"const timestamp = Date.now();",
					"pm.variables.set('customer_email', `customer.${timestamp}@test.com`);",
					"pm.variables.set('laundry_email', `laundry.${timestamp}@test.com`);"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Common test script for all requests",
					"pm.test('Status code is 200 or 201', function () {",
					"    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
					"});",
					"",
					"pm.test('Response has JSON content type', function () {",
					"    pm.response.to.have.jsonBody();",
					"});",
					"",
					"pm.test('Response time is less than 2000ms', function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(2000);",
					"});",
					"",
					"// Store tokens automatically",
					"if (pm.response.code === 201 && pm.request.url.path.includes('auth/register')) {",
					"    const response = pm.response.json();",
					"    if (response.token) {",
					"        if (pm.request.body.raw.includes('\"role\": \"customer\"')) {",
					"            pm.variables.set('customer_token', response.token);",
					"        } else if (pm.request.body.raw.includes('\"role\": \"laundry\"')) {",
					"            pm.variables.set('laundry_token', response.token);",
					"        } else if (pm.request.body.raw.includes('\"role\": \"admin\"')) {",
					"            pm.variables.set('admin_token', response.token);",
					"        }",
					"    }",
					"    if (response.user && response.user.id) {",
					"        if (pm.request.body.raw.includes('\"role\": \"customer\"')) {",
					"            pm.variables.set('customer_id', response.user.id);",
					"        } else if (pm.request.body.raw.includes('\"role\": \"laundry\"')) {",
					"            pm.variables.set('laundry_id', response.user.id);",
					"        }",
					"    }",
					"}",
					"",
					"// Store package and service IDs",
					"if (pm.response.code === 200 && pm.request.url.path.includes('packages')) {",
					"    const response = pm.response.json();",
					"    if (response.packages && response.packages.length > 0) {",
					"        pm.variables.set('package_id', response.packages[0].id);",
					"    }",
					"}",
					"",
					"if (pm.response.code === 200 && pm.request.url.path.includes('services')) {",
					"    const response = pm.response.json();",
					"    if (response.services && response.services.length > 0) {",
					"        pm.variables.set('service_id', response.services[0].id);",
					"    }",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string",
			"description": "Base URL for the API"
		},
		{
			"key": "customer_token",
			"value": "",
			"type": "string",
			"description": "Authentication token for customer users"
		},
		{
			"key": "laundry_token",
			"value": "",
			"type": "string",
			"description": "Authentication token for laundry users"
		},
		{
			"key": "admin_token",
			"value": "",
			"type": "string",
			"description": "Authentication token for admin users"
		},
		{
			"key": "customer_id",
			"value": "",
			"type": "string",
			"description": "ID of the customer user"
		},
		{
			"key": "laundry_id",
			"value": "",
			"type": "string",
			"description": "ID of the laundry user"
		},
		{
			"key": "package_id",
			"value": "",
			"type": "string",
			"description": "ID of a package for testing"
		},
		{
			"key": "service_id",
			"value": "",
			"type": "string",
			"description": "ID of a service for testing"
		},
		{
			"key": "order_id",
			"value": "",
			"type": "string",
			"description": "ID of an order for testing"
		},
		{
			"key": "region_name",
			"value": "Makkah",
			"type": "string",
			"description": "Name of a region for testing"
		},
		{
			"key": "package_type",
			"value": "starter",
			"type": "string",
			"description": "Type of package for testing"
		},
		{
			"key": "service_type",
			"value": "washing",
			"type": "string",
			"description": "Type of service for testing"
		},
		{
			"key": "limit",
			"value": "20",
			"type": "string",
			"description": "Default limit for pagination"
		},
		{
			"key": "status",
			"value": "pending",
			"type": "string",
			"description": "Default status for filtering"
		},
		{
			"key": "type",
			"value": "service",
			"type": "string",
			"description": "Default type for filtering"
		},
		{
			"key": "timestamp",
			"value": "",
			"type": "string",
			"description": "Current timestamp for testing"
		},
		{
			"key": "customer_email",
			"value": "",
			"type": "string",
			"description": "Email of the customer user for testing"
		},
		{
			"key": "laundry_email",
			"value": "",
			"type": "string",
			"description": "Email of the laundry user for testing"
		}
	]
}